<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="./stylesheets/main.css"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
	<channel>
		<title>chee/contents</title>
		<description>please be kind</description>
		<link href="https://chee.snoot.club/contents" />
		<atom:link href="https://chee.snoot.club/contents/atom.xml" rel="self" type="application/rss+xml"/>
		<pubDate>Sat, 03 Aug 2019 09:33:13 GMT</pubDate>
		<lastBuildDate>Sat, 03 Aug 2019 09:33:13 GMT</lastBuildDate>
		<generator>chee rabbits</generator>
			
			<item>
				<title>Telecam</title>
				<link href="https://chee.snoot.club/contents/telecam/"/>
				<pubDate>Sat, 03 Aug 2019 09:33:13 GMT</pubDate>
				<guid>https://chee.snoot.club/contents/telecam/</guid>
				<description>&lt;h1&gt;Telecam&lt;/h1&gt;
&lt;p&gt;so now my stance is:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;fuck React&lt;/li&gt;
&lt;li&gt;fuck GraphQL&lt;/li&gt;
&lt;li&gt;&lt;i&gt;fuck&lt;/i&gt; &lt;code&gt;yarn(1)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;fuck Facebook, Instagram, WhatsApp and anything else that makes that company
seem like a cool place to work so they can continue hiring good developers to do
terrible things&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;After deleting Instagram a few mornings ago, I thought I&#39;d use my GDPR data
request to build a page that contained all the photos that used to be there. I
wanted to be able to post to it later, and I wanted an RSS feed. I recently
learned &lt;a href=&quot;https://www.w3.org/TR/xml-stylesheet/&quot;&gt;you can include a CSS stylesheet from an XML
file&lt;/a&gt;, and was excited that this was the
time to use that.&lt;/p&gt;
&lt;p&gt;I built an RSS feed that&#39;s also the website for the feed 😊.&lt;/p&gt;
&lt;p&gt;Before I send you the link, &lt;b&gt;Disclaimer&lt;/b&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;big page (30mb)&lt;/li&gt;
&lt;li&gt;does not work on iOS&lt;/li&gt;
&lt;li&gt;does not work on macOS Safari&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Here&#39;s a link that you can add to your newsreader or visit in your browser:
&lt;a href=&quot;https://chee.snoot.club/telecam/index.xml&quot;&gt;https://chee.snoot.club/telecam/index.xml&lt;/a&gt;.
Isn&#39;t that cool? i think it&#39;s cool&lt;/p&gt;
&lt;p&gt;In case you&#39;re on one of the unsupported platforms, here&#39;s what it looks like:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://share.snoot.club/pevez/qumoh.png&quot; alt=&quot;a screenshot of telecam&quot;&gt;&lt;/p&gt;
&lt;p&gt;There&#39;s also a form for uploading new photos living at
&lt;a href=&quot;https://chee.snoot.club/telecam/form&quot;&gt;https://chee.snoot.club/telecam/form&lt;/a&gt;
which has filters (and the filters are written in Rust! it has Toast!)&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://share.snoot.club/lesej/rutiz.png&quot; alt=&quot;a screenshot of the form&quot;&gt;&lt;/p&gt;
&lt;h2&gt;So why does it not work in Safari?&lt;/h2&gt;
&lt;p&gt;Apple really did some real shitty 90s Microsoft-level Embrace, Extend,
Extinguish move on their platforms with RSS. when News.app came out it was a
generic newsreader, and they made it the handler for all RSS feeds (even if you
had another RSS reader installed).&lt;/p&gt;
&lt;p&gt;They stopped displaying RSS feeds in Safari or iOS Safari, and opened the News app
automatically they came out with the Apple News Format and the Apple Publishing
platform &lt;a href=&quot;https://developer.apple.com/news-publisher/&quot;&gt;https://developer.apple.com/news-publisher/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;and then in (i think??) iOS 9.3 they stopped supporting RSS feeds from anything
not in the publishing platform. but it’s still the default handler, and the
Safaris still can’t display the feed, and News still hijacks it even if you have
another newsreader installed&lt;/p&gt;
&lt;p&gt;&lt;code&gt;News.app&lt;/code&gt; hijacks your legit rss feed and then
errors out with “Cannot display content from this site” instead of letting you
view the file or send it to your actual reader&lt;/p&gt;
&lt;h2&gt;anyway&lt;/h2&gt;
&lt;p&gt;please subscribe to my feed. the code, as always, is available in
&lt;a href=&quot;https://github.com/chee/chee.snoot.club/&quot;&gt;the chee.snoot.club repo&lt;/a&gt;&lt;/p&gt;
</description>
			</item>
			
			<item>
				<title>banana split recipe</title>
				<link href="https://chee.snoot.club/contents/%F0%9F%91%A6%F0%9F%8D%8C%F0%9F%91%A7/"/>
				<pubDate>Mon, 28 Jan 2019 17:43:26 GMT</pubDate>
				<guid>https://chee.snoot.club/contents/%F0%9F%91%A6%F0%9F%8D%8C%F0%9F%91%A7/</guid>
				<description>&lt;h1&gt;banana split recipe&lt;/h1&gt;
&lt;p&gt;&lt;i&gt;serves 1 abe 👦 and 1 chee 👧&lt;/i&gt;&lt;/p&gt;
&lt;h2&gt;ingredients&lt;/h2&gt;
&lt;h3&gt;the banana 🍌&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;a banana 🍌&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;the ice cream 🍨&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;3 scoops 🥄 Neapolitan ice cream 🍨 (1 scoop 🥄 each flavour)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;the toppings&lt;/h3&gt;
&lt;h4&gt;sweet nut 🥜&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;a handful of peanuts 🥜&lt;/li&gt;
&lt;li&gt;a stick of &lt;u&gt;Kerrygold™©®&lt;/u&gt; butter&lt;/li&gt;
&lt;li&gt;50ml honey 🍯 (preferably w/ a hint of cinnamon)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;chocolate 🍫 sauce&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;20g chocolate 🍫&lt;/li&gt;
&lt;li&gt;15ml milk 🥛&lt;/li&gt;
&lt;li&gt;15ml cream&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;directions&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Slice the banana 🍌 a single &lt;i&gt;longways&lt;/i&gt; cute with the blade of a handleless knife and put it in the bowl 🥣. You only own one bowl 🥣, so use that one.&lt;/li&gt;
&lt;li&gt;Scoop a scoop 🥄 of choco 🍫, a scoop 🥄 of vanillum and a scoop 🥄 of strawberring 🍓 into the split of banana 🍌&lt;/li&gt;
&lt;li&gt;To a &lt;u&gt;hot pot&lt;/u&gt; add the butter, the honey 🍯 and the peanuts 🥜 and cook them til the honey 🍯 cronch&lt;/li&gt;
&lt;li&gt;Sprinkle the nuts 🥜 atop the ice cream 🍨 and banana 🍌&lt;/li&gt;
&lt;li&gt;Melt the chocolate 🍫 and milk 🥛 and cream together, then pour over the nuts 🥜&lt;/li&gt;
&lt;li&gt;Yim yim yim, zip zip zip: &lt;b&gt;eat&lt;/b&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;#recipe&lt;/p&gt;
</description>
			</item>
			
			<item>
				<title>getting it right the first time is the wrong goal</title>
				<link href="https://chee.snoot.club/contents/getting-it-right/"/>
				<pubDate>Sat, 26 Aug 2017 00:51:25 GMT</pubDate>
				<guid>https://chee.snoot.club/contents/getting-it-right/</guid>
				<description>&lt;h1&gt;getting it right the first time is the wrong goal&lt;/h1&gt;
&lt;p&gt;the best software is a well-designed clone of something that grew organically.&lt;/p&gt;
&lt;p&gt;a clone or rewrite, an unburdened implementation.&lt;/p&gt;
&lt;p&gt;you can&#39;t design like that the first time, because you don&#39;t know what you&#39;ll
need next week.
you don&#39;t know what your needs are yet. you can only try your
best to be generic and flexible, but you will make mistakes and you will have
to do bad things to force your code to do something you weren&#39;t able to predict.&lt;/p&gt;
&lt;p&gt;it&#39;s like how you can&#39;t guess the abstraction until you have a few
implementations you can learn the general case from. you can&#39;t design something
before you know what it needs to do.&lt;/p&gt;
&lt;p&gt;in the past we had long periods before the typing began when we would research
and try things and soften the fabric so we had a good idea of what we&#39;d need to
type. but that time seems increasingly hard to budget for, and it is difficult
to explain to your manager that the week&#39;s budget you&#39;ve just spent has
produced nothing but has given you a good idea of what to do next.&lt;/p&gt;
&lt;p&gt;research does not seem to be considered a first class part of the development
process.&lt;/p&gt;
&lt;p&gt;artists do sketches to find the weak in their ideas, to work through problems
before they commit hours and oils to the final piece when stumbling would be
costly and difficult to recover from.&lt;/p&gt;
&lt;p&gt;writers write first drafts to get the ideas out, they rewrite and rewrite until
it&#39;s ready for publication.&lt;/p&gt;
&lt;p&gt;a programmer should be creating a first draft, refactoring and rewriting before
ready for production.&lt;/p&gt;
&lt;p&gt;getting it right the first time is an unachievable goal, and an obstacle to the primary goal: &lt;b&gt;&lt;b&gt;getting it right&lt;/b&gt;&lt;/b&gt;&lt;/p&gt;
</description>
			</item>
			
			<item>
				<title>safely accessing your bash-on-windows files from windows 10</title>
				<link href="https://chee.snoot.club/contents/safely-accessing-your-bash-on-windows-files-from-windows-10/"/>
				<pubDate>Sun, 13 Aug 2017 17:10:42 GMT</pubDate>
				<guid>https://chee.snoot.club/contents/safely-accessing-your-bash-on-windows-files-from-windows-10/</guid>
				<description>&lt;h1&gt;safely accessing your bash-on-windows files from windows 10&lt;/h1&gt;
&lt;h2&gt;&lt;b&gt;formerly: mounting your bash on windows folder over sshfs&lt;/b&gt;&lt;/h2&gt;
&lt;p&gt;&lt;i&gt;&lt;small&gt;this may be specific to &lt;a href=&quot;https://github.com/alwsl/alwsl&quot;&gt;alwsl&lt;/a&gt;&lt;/small&gt;&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;editing files created through the linux subsystem from the windows side can be
problematic; the last time i did so the file disappeared on the linux side and
was inaccessible even after a reboot. very microsoft.&lt;/p&gt;
&lt;p&gt;apart from this, they&#39;ve done a quite un–microsoft job of making it good. and as
i live mostly in the terminal anyhoot, i haven&#39;t been in much more pain than my
base pain rate (bpr) during this, probably brief, dalliance with microsoft&#39;s
windows 10 operating system for x86-compatible personal computers&lt;/p&gt;
&lt;p&gt;to get around this issue i&#39;ve decided to try mounting the user directory over
ssh. perhaps there are better ideas, but this was mine.&lt;/p&gt;
&lt;p&gt;there aren&#39;t many steps to it but it took a little research, so here&#39;s what i
needed to do:&lt;/p&gt;
&lt;h2&gt;1. install dokany 0.7.4&lt;/h2&gt;
&lt;p&gt;get it here:
&lt;a href=&quot;https://github.com/dokan-dev/dokany/releases/tag/v0.7.4&quot;&gt;dokany#v0.7.4&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;the current version of WinSSHFS does not support anything higher than 0.7.4, as
0.8.0 and above broke the API. if you are reading this in the future (which you
are, because that&#39;s how time works), a newer version may well be preferable.&lt;/p&gt;
&lt;h2&gt;2. download WinSSHFS&lt;/h2&gt;
&lt;p&gt;get it here: &lt;a href=&quot;https://github.com/Foreveryone-cz/win-sshfs/releases/tag/1.5.12.8&quot;&gt;win-sshfs#1.5.12.8&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;3. set up sshd on the linux side&lt;/h2&gt;
&lt;p&gt;do this with the package manager for whatever distro you&#39;ve installed into the
subsystem.&lt;/p&gt;
&lt;p&gt;for arch the instructions are as follows:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# pacman -S openssh
# $EDITOR /etc/ssh/sshd_config
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;to &lt;code&gt;sshd_config&lt;/code&gt; add:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;KexAlgorithms diffie-hellman-group14-sha1
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ensure &lt;code&gt;UsePAM&lt;/code&gt; is set to yes. i also added &lt;code&gt;AllowUsers chee&lt;/code&gt;. if you want to
use a port other than 22, set &lt;code&gt;Port&lt;/code&gt; to whatever that port is.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# sshd
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;4. configure WinSSHFS&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;run the WinSSHFS exe, it will open up a cute wee panel.&lt;/li&gt;
&lt;li&gt;click &lt;code&gt;+ Add&lt;/code&gt; at the bottom.&lt;/li&gt;
&lt;li&gt;set the Drive Name to something, i used &amp;quot;bash on windows&amp;quot; because i did a
creative writing class when i was in high school&lt;/li&gt;
&lt;li&gt;set &lt;code&gt;Host&lt;/code&gt; to &lt;code&gt;localhost&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;set &lt;code&gt;Port&lt;/code&gt; to 22 or whatever custom port you chose&lt;/li&gt;
&lt;li&gt;set &lt;code&gt;Username&lt;/code&gt; to your username&lt;/li&gt;
&lt;li&gt;enter your password, or select &lt;code&gt;PrivateKey&lt;/code&gt; and locate your &lt;code&gt;id_rsa&lt;/code&gt; and type the password in for that&lt;/li&gt;
&lt;li&gt;set &lt;code&gt;Directory&lt;/code&gt; to &lt;code&gt;.&lt;/code&gt; to mount your homedir, or to whatever dir you like&lt;/li&gt;
&lt;li&gt;choose a drive letter or a mount folder and choose if you want to mount at login or not. i did&lt;/li&gt;
&lt;li&gt;leave &lt;code&gt;the proxy section&lt;/code&gt; alone, leave &lt;code&gt;Proxy Type&lt;/code&gt; as &lt;code&gt;None&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;hit Save&lt;/li&gt;
&lt;li&gt;hit Mount&lt;/li&gt;
&lt;li&gt;bask in the glory of your mounted drive in &lt;code&gt;This PC&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;freely edit lxss-created files on windows as the lord God intended&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;5. rejoice in the splendor of the day, it may well be your last&lt;/h2&gt;
</description>
			</item>
			
			<item>
				<title>keep it to yourself</title>
				<link href="https://chee.snoot.club/contents/keep-it-to-yourself/"/>
				<pubDate>Tue, 21 Mar 2017 12:28:02 GMT</pubDate>
				<guid>https://chee.snoot.club/contents/keep-it-to-yourself/</guid>
				<description>&lt;h1&gt;keep it to yourself&lt;/h1&gt;
&lt;p&gt;i find it hard to get things done. every couple of springs (by coincidence,
rather than tradition) i&#39;ll write down everything i need to do, set up a system
for collecting and accomplishing tasks and i start achieving things. it also
helps if i have plenty of uppers.&lt;/p&gt;
&lt;p&gt;one time my best friend bought me a giraffe tray. i would write down everything
i thought of and throw it in the tray. then at nights i&#39;d go through it and read
each of them. i&#39;d throw away ones that didn&#39;t interest me any more, categorise
the rest, and put down the very next step needed to complete them in my tasks
(like GTD).&lt;/p&gt;
&lt;p&gt;this will last for a few weeks to a month, before i hit a snag where i can&#39;t
capture an idea (because of where it happens or because of being a bipolar
fucking wingnut) and i start to lose track of things and become overwhelmed by
how much i have to do and then give up and give in.&lt;/p&gt;
&lt;p&gt;this is part of the reason i don&#39;t get things done. but i&#39;ve noticed recently
that there is another reason i don&#39;t get things done, and that&#39;s that i tell
people about them.&lt;/p&gt;
&lt;p&gt;telling people your plans leads to one of two things:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;they try to talk you out of it (by telling you it&#39;s dumb and you are dumb and
  stupid, or telling you that somebody has already done it)&lt;/li&gt;
&lt;li&gt;they tell you wow that&#39;s a great idea&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;now, number 1 is quite discouraging. and that disappointment can mean
you don&#39;t feel as great about the idea any more. and that can make you want to
do it less. and that will mean you don&#39;t get it done.&lt;/p&gt;
&lt;p&gt;number 2 seems great, but i&#39;ve noticed that it &lt;b&gt;also means i end up not doing
it&lt;/b&gt;. maybe because i&#39;ve already got the reward for having had the great idea, so
now i don&#39;t need to do it? having already gotten my delicious endorphins?
secreted within my brain and nervous system?&lt;/p&gt;
&lt;p&gt;recently i&#39;ve actually finished a few things. without having set up a system or
finding someone who loves me enough to buy me a giraffe tray. and all i do is
&lt;b&gt;&lt;b&gt;keep it to myself&lt;/b&gt;&lt;/b&gt; until it&#39;s done.&lt;/p&gt;
&lt;p&gt;the excitement about the idea, the anticipation and the eagerness to tell
someone. and knowing you can&#39;t tell anyone until you&#39;ve finished it. these
things make it a priority. and you have to do it til you&#39;ve
done it. and then you have the thing. and then you don&#39;t need to tell
anyone anyway because fuck them.&lt;/p&gt;
</description>
			</item>
			
			<item>
				<title>fosdem 2017</title>
				<link href="https://chee.snoot.club/contents/fosdem-2017/"/>
				<pubDate>Mon, 06 Feb 2017 15:38:47 GMT</pubDate>
				<guid>https://chee.snoot.club/contents/fosdem-2017/</guid>
				<description>&lt;h1&gt;fosdem 2017&lt;/h1&gt;
&lt;p&gt;on the flight back now from fosdem 2017. it was a good time, drinks were had, i
tried club mate for the first time and met some fine people. i managed to miss
every talk i&#39;d wanted to see, but it was certainly worth while. last night i met
a man called stu who was in brussels on his stag do, he&#39;d fallen over the night
before and smashed out his two front teeth head-butting the pavement. then
yesterday morning at 8am he found his teeth on the street.&lt;/p&gt;
&lt;p&gt;i&#39;ll probably be joining the belfast hackerspace when i get home. one thing
i&#39;ve learnt from fosdem is that looking around and on every computer screen
seeing a full screen terminal is good for the soul. it&#39;s also soothing
to be surrounded by a bunch of nerds who use computer metaphors to talk about
people, and who understand that taking a computer out at a party does
not mean you are not still at the party&lt;/p&gt;
&lt;p&gt;on saturday night there was an after party at a hackerspace that was like the
club scene from the start of the matrix. at any moment it seemed that someone
with a white rabbit tattoo would walk in. angelina jolie was there and i
admitted i&#39;d been &lt;code&gt;zero_cool&lt;/code&gt; all along. it was like where Hollywood
thinks hackers hang out. they&#39;ve been right this whole
time&lt;/p&gt;
&lt;p&gt;11/10 gg belgium would belg again&lt;/p&gt;
&lt;p&gt;:wq&lt;/p&gt;
</description>
			</item>
			
			<item>
				<title>adding commands to git</title>
				<link href="https://chee.snoot.club/contents/adding-commands-to-git/"/>
				<pubDate>Thu, 12 Jan 2017 22:11:29 GMT</pubDate>
				<guid>https://chee.snoot.club/contents/adding-commands-to-git/</guid>
				<description>&lt;h1&gt;adding commands to git&lt;/h1&gt;
&lt;p&gt;did you know that you can add commands to git by naming them right and placing
them in your path?&lt;/p&gt;
&lt;p&gt;if you put this:&lt;/p&gt;
&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token shebang important&quot;&gt;#!/bin/sh&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; branch &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;awk&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;/\*/ {print &lt;span class=&quot;token variable&quot;&gt;$2&lt;/span&gt;}&#39;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;into a file called &lt;code&gt;git-current-branch&lt;/code&gt;, make it executable and put it somewhere
in &lt;code&gt;$PATH&lt;/code&gt; (i use &lt;code&gt;~/bin&lt;/code&gt; which i&#39;ve added to &lt;code&gt;$PATH&lt;/code&gt;), you will be able to use
it like this:&lt;/p&gt;
&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;highlight-line&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; current-branch&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;highlight-line&quot;&gt;feature/lolSausages&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and bash/zsh completions will tab complete them too&lt;/p&gt;
&lt;p&gt;that example would probably make more sense to be an alias, but what about
something like this:&lt;/p&gt;
&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token shebang important&quot;&gt;#!/bin/sh&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;highlight-line&quot;&gt;branch&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; -z &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;$branch&lt;/span&gt;&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;then&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;highlight-line&quot;&gt;  branch&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; current-branch&lt;span class=&quot;token variable&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;fi&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; branch -u origin/&lt;span class=&quot;token variable&quot;&gt;${branch}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ooh, or&lt;/p&gt;
&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token shebang important&quot;&gt;#!/bin/sh&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;highlight-line&quot;&gt;function&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;highlight-line&quot;&gt;file&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; -z &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;$function&lt;/span&gt;&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; -z &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;$file&lt;/span&gt;&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;then&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;highlight-line&quot;&gt;  &lt;span class=&quot;token keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&#39;usage: git log-function &amp;lt;function&gt; &amp;lt;file&gt;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;highlight-line&quot;&gt;  &lt;span class=&quot;token keyword&quot;&gt;exit&lt;/span&gt; 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;fi&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; log -L &lt;span class=&quot;token string&quot;&gt;&quot;:&lt;span class=&quot;token variable&quot;&gt;$function&lt;/span&gt;:&lt;span class=&quot;token variable&quot;&gt;$file&lt;/span&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;i&#39;m sure you can come up with something more useful&lt;/p&gt;
</description>
			</item>
			
			<item>
				<title>building firefox os on a Macintosh</title>
				<link href="https://chee.snoot.club/contents/building-firefox-os-on-a-macintosh/"/>
				<pubDate>Sat, 08 Dec 2012 13:10:03 GMT</pubDate>
				<guid>https://chee.snoot.club/contents/building-firefox-os-on-a-macintosh/</guid>
				<description>&lt;h1&gt;building firefox os on a Macintosh&lt;/h1&gt;
&lt;h2&gt;firefox OS, huh?&lt;/h2&gt;
&lt;p&gt;firefox OS looks cool, doesn’t it? For a while you were a bit embarrassed for
Mozilla, seemed like they felt left out as
nearly&lt;sup&gt;(&lt;a href=&quot;http://www.opera.com/&quot;&gt;?&lt;/a&gt;)&lt;/sup&gt; the only major browser
manufacturer who hadn’t built an operating system based on JavaScript.&lt;/p&gt;
&lt;p&gt;but now you see we live in a defiant new world where &lt;a href=&quot;http://www.xanthir.com/b4Ko0&quot;&gt;CSS3 or 4 never
existed&lt;/a&gt; and &lt;a href=&quot;http://browseryoulovedtohate.com/testimonials&quot;&gt;Internet Explorer is actually pretty
rad&lt;/a&gt;.  And in this world, Firefox
OS (or Boot2Gecko) is possibly going to be what we all need and it will do what
it promised and bring freedom to the world of mobile the way “firefox did to
desktop browsing”.&lt;/p&gt;
&lt;p&gt;today I saw a screenshot of Mozilla Phoenix and nearly cried my eyes out.
Those were the days, huh?&lt;/p&gt;
&lt;h2&gt;horse’s mouth&lt;/h2&gt;
&lt;p&gt;read
&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Mozilla/Boot_to_Gecko/Firefox_OS_build_prerequisites?redirectlocale=en-US&amp;amp;redirectslug=Mozilla%2FBoot_to_Gecko%2FB2G_build_prerequisites&quot;&gt;this&lt;/a&gt;,
the canonical source for building b2g. I&#39;m only here because I ran into a couple
prollems you might
like to avoid.&lt;/p&gt;
&lt;p&gt;the issues I’m going to go into here may well be specific to the Galaxy Nexus
build of Firefox OS, and building for the Galaxy Nexus on Mountain Lion. Also,
I do a couple of naughty things when I’m working around the bugs. Forgive me.&lt;/p&gt;
&lt;p&gt;the stumbling blocks are few, but they tied my shoelaces together when I was
trying to build it, so here you go.&lt;/p&gt;
&lt;p&gt;i’m assuming you’ve got XCode installed here. There are instructions on how to
get that available via the link above and the link below.&lt;/p&gt;
&lt;p&gt;first thing, install &lt;a href=&quot;http://mxcl.github.com/homebrew/&quot;&gt;homebrew&lt;/a&gt; if you
haven’t already because of some kind of illness you have.&lt;/p&gt;
&lt;p&gt;once you’ve installed homebrew and added its bin directory to the
&lt;b&gt;&lt;b&gt;&lt;b&gt;the front of&lt;/b&gt;&lt;/b&gt;&lt;/b&gt; ur path, be all like:&lt;/p&gt;
&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; -fsSL https://raw.github.com/mozilla-b2g/B2G/master/scripts/bootstrap-mac.sh &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;bash&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;okay, so that’s boss. that’s installed a whole fireworks display of stuff you’ll
need to build B2G. but, if you’re building for an android you’re going to need a
couple more packages from homebrew too.&lt;/p&gt;
&lt;p&gt;I think this should cover it:&lt;/p&gt;
&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;highlight-line&quot;&gt;brew &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; coreutils findutils gnu-sed gnupg pngcrush repo&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;you’ll need a few gnu utilities available under their normal names too, so:&lt;/p&gt;
&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token function&quot;&gt;ln&lt;/span&gt; -s /usr/local/bin/gfind /usr/local/bin/find &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ln&lt;/span&gt; -s /usr/local/bin/gsed /usr/local/bin/sed&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;this will prevent you from getting:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sed: RE error: illegal byte sequence
sed: 1: &amp;quot;/^INSERT$/ { :l; n; p;  ...&amp;quot;: unexpected EOF (pending }&#39;s)
target thumb C: dbus-daemon &amp;lt;= external/dbus/bus/desktop-file.c
sed: RE error: illegal byte sequence
sed: 1: &amp;quot;/^INSERT$/ { :l; n; p;  ...&amp;quot;: unexpected EOF (pending }&#39;s)
sed: 1: &amp;quot;/^INSERT$/ { :l; n; p;  ...&amp;quot;: unexpected EOF (pending }&#39;s)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;when you try to build later with a sed that doesn’t work the way seds are meant
to work in the modern world.&lt;/p&gt;
&lt;p&gt;i like to&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;export PATH=$(brew --prefix coreutils)/libexec/gnubin:$PATH
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;too because then I get the GNU coreutils instead of the BSD coreutils. The BSD
coreutils are simpler in a &lt;a href=&quot;http://cat-v.org/&quot;&gt;cat-v&lt;/a&gt; sort of way, but I am lazy
and this way when mkdir is all “lol can’t make directory because directory
doesn’t exist” i can be all &lt;kbd&gt;C-p&lt;/kbd&gt; &lt;code&gt;-p&lt;/code&gt; RET and it’s all &amp;quot;lol ok&amp;quot; and
I’m out of there. because the gnu tools let you put the options after the
arguments.&lt;/p&gt;
&lt;p&gt;now you’ve got all that, install the Android SDK starter package. once mine was
unzipped I put it in &lt;code&gt;~/Android&lt;/code&gt; and added &lt;code&gt;~/Android/sdk/platform-tools&lt;/code&gt; to my
&lt;code&gt;$PATH&lt;/code&gt; and I felt pretty good about it too.&lt;/p&gt;
&lt;p&gt;give ccache a little more room to work with, I gave it 5GB&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ccache --max-size 5GB
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;now, you’re working on OS X and you’ve probably got a case-insensitive file
system. That’s gonna cause you some nightmares when it gets to building the
android stuff. You’re going to want to create a sparse image and do the rest
of the work in there.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;hdiutil create -type SPARSE -fs &#39;Case-sensitive Journaled HFS+&#39; -size 40g ~/omgFirefox.dmg
open ~/omgFirefox.dmg
cd /Volumes/untitled
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;next, clone the git repo and configure&lt;/p&gt;
&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; clone git://github.com/mozilla-b2g/B2G.git`&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token function&quot;&gt;cd&lt;/span&gt; B2G&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;highlight-line&quot;&gt;./config.sh galaxy-nexus&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;that worked fine, right? good. and it only took 72 hours! HEre is where the
first naughty thing happens.&lt;/p&gt;
&lt;p&gt;if you try to build on Mountain Lion it will tell you “nuh-uh, you don’t got
10.6 or 10.5 sdk”, except it’ll pronounce it like this:&lt;/p&gt;
&lt;pre class=&quot;language-diff&quot;&gt;&lt;code class=&quot;language-diff&quot;&gt;&lt;span class=&quot;highlight-line&quot;&gt;build/core/combo/HOST_darwin-x86.mk:42: ***********************************************************&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;highlight-line&quot;&gt;build/core/combo/HOST_darwin-x86.mk:43: * No 10.6 or 10.5 SDK found, do you have Xcode installed? *&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;highlight-line&quot;&gt;build/core/combo/HOST_darwin-x86.mk:44: ***********************************************&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;i did a naughty thing here. i was all:&lt;/p&gt;
&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token function&quot;&gt;mkdir&lt;/span&gt; -p /Developers/SDKs&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token function&quot;&gt;ln&lt;/span&gt; -s /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.7.sdk /Developer/SDKs/MacOSX10.6.sdk&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;don’t tell anyone I did this.&lt;/p&gt;
&lt;p&gt;okay, ready? let’s build!&lt;/p&gt;
&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;highlight-line&quot;&gt;./build.sh&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;please wait for the next half of your life until you reach an error that looks
A LITTLE SOMETHING LIKE THIS:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;/Volumes/untitled/external/busybox/scripts/kconfig/mconf.c: In function ‘exec_conf’:
/Volumes/untitled/external/busybox/scripts/kconfig/mconf.c:469: error: ‘SIGWINCH’ undeclared (first use in this function)
/Volumes/untitled/external/busybox/scripts/kconfig/mconf.c:469: error: (Each undeclared identifier is reported only once
/Volumes/untitled/external/busybox/scripts/kconfig/mconf.c:469: error: for each function it appears in.)
/Volumes/untitled/external/busybox/scripts/kconfig/mconf.c: In function ‘main’:
/Volumes/untitled/external/busybox/scripts/kconfig/mconf.c:1051: warning: statement with no effect
/Volumes/untitled/external/busybox/scripts/kconfig/mconf.c:1052: warning: statement with no effect
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;crying your eyes out? I would be. well it turns out that this busybox is pretty
out of date. the new version has been updated to build on Mountain Lion. It
turns out that nowadays &lt;code&gt;SIGWINCH&lt;/code&gt; isn’t declared unless &lt;code&gt;_DARWIN_C_SOURCE&lt;/code&gt; is
set.&lt;/p&gt;
&lt;p&gt;here’s the second naughty bit. i opened up
&lt;code&gt;external/busybox/scripts/kconfig/mconf.c&lt;/code&gt; in a text editor and changed&lt;/p&gt;
&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;#&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; _XOPEN_SOURCE 700&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;#&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;sys/ioctl.h&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;to&lt;/p&gt;
&lt;pre class=&quot;language-c&quot;&gt;&lt;code class=&quot;language-c&quot;&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;#&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; _XOPEN_SOURCE 700&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;#&lt;span class=&quot;token directive keyword&quot;&gt;define&lt;/span&gt; _DARWIN_C_SOURCE 1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token macro property&quot;&gt;#&lt;span class=&quot;token directive keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&amp;lt;sys/ioctl.h&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;around line 12. This will help us get past that error.&lt;/p&gt;
&lt;p&gt;now you can try building again.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;./build.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;did you make a sparse image? are you doing the work in there? why not?&lt;/p&gt;
&lt;p&gt;there’s a problem here if you’re using a case-insensitive file system
(why do you do that, OS X? y o y?)&lt;/p&gt;
&lt;p&gt;i told you to do that for a very good reason.&lt;/p&gt;
&lt;p&gt;a reason that looks like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;hardware/ti/omap4xxx/camera/../libtiutils/semaphore.h:30: error: previous definition of &#39;class android::Semaphore&#39;
In file included from hardware/ti/omap4xxx/camera/inc/CameraHal.h:41,
                from hardware/ti/omap4xxx/camera/CameraHal_Module.cpp:28:
hardware/ti/omap4xxx/camera/../libtiutils/Semaphore.h:29: error: redefinition of &#39;class android::Semaphore&#39;
hardware/ti/omap4xxx/camera/../libtiutils/semaphore.h:30: error: previous definition of &#39;class android::Semaphore&#39;
make: *** [out/target/product/maguro/obj/SHARED_LIBRARIES/camera.omap4_intermediates/CameraHal_Module.o] Error 1
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;if you’re getting that error, MAKE A SPARSE IMAGE AND DO THE WORK IN THERE. now,&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;./build.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and we’ll hope and pray that nothing else goes wrong.&lt;/p&gt;
&lt;h4&gt;if you followed my advice about gnubin:&lt;/h4&gt;
&lt;p&gt;okay. was that seriously another error? omg. %z what.&lt;/p&gt;
&lt;p&gt;it turns out, like a dick, android actually expects to get the old BSD stat; the
homebrew version of status is no longer acceptable. you’ll want to take the
homebrew stat out of the way for a moment, so you can get the mac version of
stat. I did it like this:&lt;/p&gt;
&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;highlight-line&quot;&gt;&lt;span class=&quot;token function&quot;&gt;export&lt;/span&gt; PATH&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;/usr/bin:&lt;span class=&quot;token variable&quot;&gt;$PATH&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;highlight-line&quot;&gt;./build.sh&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h4&gt;endif&lt;/h4&gt;
&lt;h2&gt;AND YOU ARE DONE.&lt;/h2&gt;
&lt;p&gt;I hope that was a fair enough guide to building boot2gecko on mac.&lt;/p&gt;
&lt;p&gt;quick recap:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;read the mozilla wiki on the subject&lt;/li&gt;
&lt;li&gt;install the necessary packages&lt;/li&gt;
&lt;li&gt;get gnu sed and gnu find in your path&lt;/li&gt;
&lt;li&gt;make a sensitive sparse image and get inside&lt;/li&gt;
&lt;li&gt;clone the repo&lt;/li&gt;
&lt;li&gt;fix external&lt;i&gt;busybox&lt;/i&gt;scripts&lt;i&gt;kconfig&lt;/i&gt;mconf.c&lt;/li&gt;
&lt;li&gt;celebrate.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;i’ll tell you this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;./flash.sh
./flash.sh gaia
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;you need to flash gaia separately on the Nexus.&lt;/p&gt;
&lt;p&gt;i love you, goodbye.&lt;/p&gt;
</description>
			</item>
			
			<item>
				<title>Making git-svn work over SSH tunnel, SOCKS proxy + HTTP proxy</title>
				<link href="https://chee.snoot.club/contents/making-git-svn-work-over-ssh-tunnel-socks-proxy-http-proxy/"/>
				<pubDate>Sun, 25 Nov 2012 12:58:48 GMT</pubDate>
				<guid>https://chee.snoot.club/contents/making-git-svn-work-over-ssh-tunnel-socks-proxy-http-proxy/</guid>
				<description>&lt;h1&gt;Making git-svn work over SSH tunnel, SOCKS proxy + HTTP proxy&lt;/h1&gt;
&lt;h3&gt;bad connection, worse VCS&lt;/h3&gt;
&lt;p&gt;At work we use svn. They say there’s nothing we can do about it. I thought
perhaps we could burn everything. Subversion is a terrible piece of software.
I would really rather merge two branches with a magnet than with subversion.&lt;/p&gt;
&lt;p&gt;I’m on holiday in Portugal right now. The hotel advertised free wi-fi available
in “all rooms”. I think the router is perhaps closer to Australia than to this
room.&lt;/p&gt;
&lt;p&gt;The gombuter the central subversion repo lives on is set up only to accept
connections from a few whitelisted IP addresses. I forgot about this before I
came here. I did say holiday up there, but that’s not quite accurate. I’m just
in Portugal for kicks. When you work remotely, why work in any place in
particular? Might as well be in a country full of nightmareish howling midnight
jackal-dogs, hundreds upon thousands of hungry wild cats, upturned noses, sand
and cheap wine. No need to be in a warm comfy bed at home when you can come
halfway across the world to live in a shoebox for a thousand dollars a night.&lt;/p&gt;
&lt;p&gt;So, first problem:&lt;/p&gt;
&lt;h3&gt;Subversion hates your guts.&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;% git svn dcommit
URL access forbidden for unknown reason: access to &#39;http:///dev.peoplebrowsr.com/svn/projects/site/trunk&#39; forbidden at /usr/local/Cellar/git/1.8.0/lib/Git/SVN.pm line 148
URL access forbidden for unknown reason: access to &#39;http:///dev.peoplebrowsr.com/svn/projects/site/trunk&#39; forbidden at /usr/local/Cellar/git/1.8.0/lib/Git/SVN.pm line 717
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;:(.&lt;/p&gt;
&lt;p&gt;Luckily when I was getting my IP address whitelisted, I also got them to
whitelist the IP address of my Linode.&lt;/p&gt;
&lt;p&gt;I have a copy of the repo on the Linode, but it is out of date and I’ve made
local changes and commited them and the connection is terrible and I keep losing
connectivity and nothing about this seems tasty.&lt;/p&gt;
&lt;p&gt;then I recall that I can use SSH to create some kind of a sexy
TUNNEL and push through that!&lt;/p&gt;
&lt;h3&gt;Wear your lucky socks.&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;☀  chee@stickers ~ % ssh -CD2000 snaek
You have mail.
★  chee@zomg ~ %
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I used -C for ssh compression, to halp deal with the bad network. -D 2000 to set
 the local port for the dynamic forwarding.&lt;/p&gt;
&lt;p&gt;Then I open up my network settings over on the local side and tell gombuter to
use SOCKS proxy on localhost:2000.&lt;/p&gt;
&lt;p&gt;Then I look into how to get git to push over a socks proxy.&lt;/p&gt;
&lt;h3&gt;Chain my proxy to the bedposts&lt;/h3&gt;
&lt;p&gt;Things don’t go well for me in this hunt. So I decide to use a chaining proxy
that presents as an HTTP proxy, and can pass off to a SOCKS. I chose Privoxy for
 my own private and mysterious reasons. They are none of your concern.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;brew install privoxy
# or
apt-get install privoxy
# or
pacman -S privoxy # like a boss.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;in my privoxy config, I set:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;forward-socks4 / localhost:2000 .
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;to forward all traffic that uses the http proxy to pass off through the SSH
tunnel.&lt;/p&gt;
&lt;p&gt;Getting closer!&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;% export http_proxy=&#39;http://localhost:8118&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;annnnnd…! nothing.&lt;/p&gt;
&lt;p&gt;wat.&lt;/p&gt;
&lt;p&gt;It’s still not working. So I spend some time reading about getting git to use an
 http proxy, and try a bunch of things until I realise I’m a moron.&lt;/p&gt;
&lt;p&gt;open &lt;code&gt;~/.subversion/servers&lt;/code&gt; in your favourite politically neutral editor.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;% zile ~/.subversion/servers
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;Talk dirty in subversion&lt;/h3&gt;
&lt;p&gt;now, I don’t have any other SVN things going on, so I was happy enough to set it
globally:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[global]
http-proxy-host = localhost
http-proxy-port = 8118
http-compression = yes
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;stuck http-compression on too, because what the hell.&lt;/p&gt;
&lt;p&gt;Now a git svn fetch and a dcommit and we’re flying~! hooray!&lt;/p&gt;
&lt;p&gt;So, to recap&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Set up an ssh tunnel on the whitelisted remote server&lt;/li&gt;
&lt;li&gt;Start your local Privoxy, telling it to pass its traffic to the tunnel&lt;/li&gt;
&lt;li&gt;Tell SVN to route its traffic through privoxy&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;On a side note, I no longer ever use a public wi-fi hotspot without setting up a
tunnel and letting all my traffic go through that. I’m starting to realise I’m
not the only person who ever found out how to install Wireshark.&lt;/p&gt;
</description>
			</item>
	</channel>
	<!--xhtml:script
		xmlns:xhtml="http://www.w3.org/1999/xhtml">
		(function crime () {
			try {
				document.querySelectorAll("description").forEach(description => {
					description.innerHTML = description.innerHTML.replace(
						/&amp;lt;(\/)?(.+?)&amp;gt;/g,
						(_, slash, tag) => {
							return slash
								? `&lt;/xhtml:${tag}>`
								: `&lt;xhtml:${tag} xmlns:xhtml="http://www.w3.org/1999/xhtml">`
						})
				})
			} catch {
				crime()
			}
		})()
	</xhtml:script-->

	<xhtml:script
		xmlns:xhtml="http://www.w3.org/1999/xhtml">
		document.querySelectorAll("guid").forEach(guid => {
			let text = guid.innerHTML
			guid.innerHTML = `&lt;xhtml:a
				xmlns:xhtml="http://www.w3.org/1999/xhtml"
				href="${guid.textContent}">
				${guid.textContent}
			&lt;/xhtml:a>`
		})
	</xhtml:script>
</rss>
